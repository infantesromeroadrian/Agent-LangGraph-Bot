┌───────────────┐       ┌───────────────────┐
│               │       │                   │
│  User Query   │──────>│  Retrieve Context │
│               │       │                   │
└───────────────┘       └─────────┬─────────┘
                                  │
                                  ▼
                        ┌───────────────────┐
                        │                   │
                        │ Supervisor Agent  │
                        │                   │
                        └─────────┬─────────┘
                                  │
                                  ▼
                        ┌───────────────────┐
                        │                   │
                        │ Researcher Agent  │
                        │                   │
                        └─────────┬─────────┘
                                  │
                                  ▼
                       ┌──────────────────────┐
                       │                      │
                       │ Use Analyst Agent?   │
                       │                      │
                       └──────────┬───────────┘
                                 /│\
                                  │
             ┌──────────────┬─────┴─────┬───────────────┐
             │              │           │               │
             ▼              │           ▼               │
┌────────────────────┐      │     ┌─────────────────┐   │
│                    │      │     │                 │   │
│    Skip Analyst    │      │     │  Analyst Agent  │   │
│                    │      │     │                 │   │
└─────────┬──────────┘      │     └────────┬────────┘   │
          │                 │              │            │
          └─────────────────┼──────────────┘            │
                            │                           │
                            ▼                           │
                  ┌─────────────────────┐               │
                  │                     │               │
                  │ Communicator Agent  │<──────────────┘
                  │                     │
                  └──────────┬──────────┘
                             │
                             ▼
                   ┌───────────────────┐
                   │                   │
                   │  Final Response   │
                   │                   │
                   └───────────────────┘ 